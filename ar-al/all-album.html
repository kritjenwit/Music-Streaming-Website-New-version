<div id="clear">
    <section id="music-body">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-md-2">
                    <div class="card">
                        <div class="card-header">
                            <?php require "../php/album/show-title.php"; ?>
                        </div>
                        <div class="card-body">
                            <div class="container">
                                <div class="center-img">
                                    <?php require "../php/album/show-cover.php"; ?>
                                </div>

                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="show-track mt-3">
                                <h4>Track List</h4>
                            </div>
                            <ol id="playlist">
                                <?php require "../php/album/show-music.php"; ?>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <style>
            body {
                margin-top: 9.5%;
            }

            #music-body .center-img {
                text-align: center;
                display: block;
            }

            #music-body li a {
                color: black;
                text-decoration: none;
            }

            .current-song {
                color: #007bff;
            }

            #music-body li a:hover {
                border: #007bff 1px solid;
                color: white;
                border-radius: 5px;
                padding: 1px;
                background-color: #007bff;
                text-decoration: none;
            }
        </style>

        <script>
            $(document).ready(function () {

                play();
            });

            function play() {
                // var currentsong = currentsong;

                $("#playlist li a").click(function (e) {
                    currentsong = $(this).parent().index();
                    console.log(currentsong);

                    e.preventDefault();
                    for (var i = 0; i < $("#audio-playlist li a").length; i++) {
                        $("#audio-playlist ul").empty();
                    }
                    var k=0; 
                    $("#audioPlayer")[0].src = this;
                    if (($("#audio-playlist li a").length < $("#playlist li a").length)) {
                        for (var j = 0; j < $("#playlist li a").length; j++) {
                            $("#audio-playlist ul").append("<li> <a href='' music> </a> </li>");
                            $("#audio-playlist li a")[j].href = $("#playlist li a")[j].href;
                            var text = $("#playlist li a:eq(" + k + ")").attr('music');
                            $("#audio-playlist li a:eq(" + k + ")").html(text);
                            ++k;
                        }
                    }

                    $("#audioPlayer")[0].play();

                    var title = $(this).attr("music");

                    $("#audio-title").html(title);
                });

                $("#audioPlayer")[0].addEventListener("ended", function () {
                    currentsong++;
                    if (currentsong == $("#playlist li a").length) {
                        currentsong = 0;
                    }
                    // $("#playlist li:eq(" + currentSong + ")").addClass("current-song");
                    $("#audioPlayer")[0].src = $("#playlist li a")[currentsong].href;
                    $("#audioPlayer")[0].play();
                });
                console.log(currentsong);

                // $("#play").click(function (e) {
                //     e.preventDefault();
                //     $("#audioPlayer")[0].play();
                // });
                // $("#pause").click(function (e) {
                //     e.preventDefault();
                //     $("#audioPlayer")[0].pause();
                // });
                // $("#back").click(function (e) {
                //     e.preventDefault();
                //     $("#audioPlayer")[0].pause();
                //     currentsong--;
                //     console.log(currentsong);

                //     if (currentsong < 0) {
                //         currentsong = $("#audio-playlist li a").length - 1;
                //         $("#audioPlayer")[0].src = $("#audio-playlist li a")[currentsong].href;
                //     } else {
                //         $("#audioPlayer")[0].src = $("#audio-playlist li a")[currentsong].href;
                //     }
                //     $("#audioPlayer")[0].play();
                //     var title = $("#audio-playlist li a:eq(" + currentsong + ")").text();
                //     $("#audio-title").html(title);

                //     console.log(title);

                // });
                // $("#next").click(function (e) {
                //     e.preventDefault();
                //     $("#audioPlayer")[0].pause();
                //     currentsong++;
                //     console.log(currentsong);

                //     if (currentsong >= $("#audio-playlist li a").length) {
                //         currentsong = 0;
                //         $("#audioPlayer")[0].src = $("#audio-playlist li a")[currentsong].href;
                //     } else {
                //         $("#audioPlayer")[0].src = $("#audio-playlist li a")[currentsong].href;

                //     }
                //     $("#audioPlayer")[0].play();
                //     var title = $("#audio-playlist li a:eq(" + currentsong + ")").text();
                //     $("#audio-title").html(title);

                // });

            }
        </script>
    </section>
</div>

<!-- <script src="js/album-player.js"></script> -->